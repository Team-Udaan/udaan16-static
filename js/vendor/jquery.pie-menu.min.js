!function (e) {
  e.fn.PieMenu = function (t) {
    function n(t) {
      e(u.menu_element).each(function (n, a) {
        e(a).css({left: 0 == t ? 0 : o[n], top: 0 == t ? 0 : -i[n]})
      })
    }

    var a, r, s = [], i = [], o = [], u = e.extend({
      starting_angel: "0",
      angel_difference: "90",
      radius: "200",
      menu_element: this.children(".menu_option").children(),
      menu_button: this.children(".menu_button")
    }, t);
    a = parseInt(u.angel_difference) / (u.menu_element.length - 1), r = 1 / (u.menu_element.length - 1), e(u.menu_button).unbind("click", c);
    var c = function () {
      e(this).parent().hasClass("active") ? (n(0), e(this).parent().removeClass("active"), e(this).parent().addClass("inactive")) : (n(1), e(this).parent().addClass("active"), e(this).parent().removeClass("inactive")), e(this).toggleClass("btn-rotate")
    };
    return e(u.menu_button).bind("click", c), u.menu_element.each(function (t, n) {
      s[t] = (parseInt(u.starting_angel) + a * t) * Math.PI / 180, i[t] = u.radius * Math.sin(s[t]), o[t] = u.radius * Math.cos(s[t]), e(n).css({
        "-webkit-transform": "rotate(" + (90 - 180 * s[t] / Math.PI) + "deg)",
        "-moz-transform": "rotate(" + (90 - 180 * s[t] / Math.PI) + "deg)",
        "-ms-transform": "rotate(" + (90 - 180 * s[t] / Math.PI) + "deg)",
        "-o-transform": "rotate(" + (90 - 180 * s[t] / Math.PI) + "deg)",
        transform: "rotate(" + (90 - 180 * s[t] / Math.PI) + "deg)"
      })
    })
  }
}(jQuery);